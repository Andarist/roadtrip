{"version":3,"file":"roadtrip.js","sources":["../../../src/roadtrip.js","../../../src/utils/isSameRoute.js","../../../src/utils/watchLinks.js","../../../src/Route.js"],"sourcesContent":["import Route from './Route';\nimport watchLinks from './utils/watchLinks';\nimport isSameRoute from './utils/isSameRoute';\n\n// Enables HTML5-History-API polyfill: https://github.com/devote/HTML5-History-API\nconst location = window.history.location || window.location;\n\nfunction noop () {}\n\nlet routes = [];\nlet currentData = {};\nlet currentRoute = {\n\tenter: () => roadtrip.Promise.resolve(),\n\tleave: () => roadtrip.Promise.resolve()\n};\n\nlet _target;\nlet isTransitioning = false;\n\nconst roadtrip = {\n\tbase: '',\n\tPromise: window.Promise,\n\n\tadd ( path, options ) {\n\t\troutes.push( new Route( path, options ) );\n\t\treturn roadtrip;\n\t},\n\n\tstart () {\n\t\treturn roadtrip.goto( location.href, { replaceState: true });\n\t},\n\n\tgoto ( href, options = {} ) {\n\t\tlet target;\n\t\tconst promise = new roadtrip.Promise( ( fulfil, reject ) => {\n\t\t\ttarget = _target = { href, options, fulfil, reject };\n\t\t});\n\n\t\tif ( isTransitioning ) {\n\t\t\treturn promise;\n\t\t}\n\n\t\t_goto( target );\n\t\treturn promise;\n\t}\n};\n\nwatchLinks( href => roadtrip.goto( href ) );\n\n// watch history\nwindow.addEventListener( 'popstate', () => {\n\t_target = {\n\t\thref: location.href,\n\t\tpopstate: true, // so we know not to manipulate the history\n\t\tfulfil: noop,\n\t\treject: noop\n\t};\n\n\t_goto( _target );\n}, false );\n\n\nfunction _goto ( target ) {\n\tlet i, len = routes.length;\n\tlet newRoute, data;\n\n\tfor ( i = 0; i < len; i += 1 ) {\n\t\tlet route = routes[i];\n\t\tdata = route.exec( target.href );\n\n\t\tif ( data ) {\n\t\t\tnewRoute = route;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif ( !newRoute || isSameRoute( newRoute, currentRoute, data, currentData ) ) {\n\t\treturn target.fulfil();\n\t}\n\n\tisTransitioning = true;\n\n\troadtrip.Promise.all([\n\t\tcurrentRoute.leave( currentData, data ),\n\t\tnewRoute.beforeenter( data, currentData )\n\t])\n\t\t.then( () => newRoute.enter( data, currentData ) )\n\t\t.then( () => {\n\t\t\tisTransitioning = false;\n\n\t\t\t// if the user navigated while the transition was taking\n\t\t\t// place, we need to do it all again\n\t\t\tif ( _target !== target ) {\n\t\t\t\t_goto( _target );\n\t\t\t} else {\n\t\t\t\ttarget.fulfil();\n\t\t\t}\n\t\t})\n\t\t.catch( target.reject );\n\n\tcurrentRoute = newRoute;\n\tcurrentData = data;\n\n\tif ( target.popstate ) return;\n\thistory[ target.options.replaceState ? 'replaceState' : 'pushState' ]( {}, '', target.href );\n}\n\nexport default roadtrip;\n","export default function isSameRoute ( routeA, routeB, dataA, dataB ) {\n\tif ( routeA !== routeB ) {\n\t\treturn false;\n\t}\n\n\treturn deepEqual( dataA.params, dataB.params ) && deepEqual( dataA.query, dataB.query );\n}\n\nfunction deepEqual ( a, b ) {\n\tif ( a === null && b === null ) {\n\t\treturn true;\n\t}\n\n\tif ( isArray( a ) && isArray( b ) ) {\n\t\tlet i = a.length;\n\n\t\tif ( b.length !== i ) return false;\n\n\t\twhile ( i-- ) {\n\t\t\tif ( !deepEqual( a[i], b[i] ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\telse if ( typeof a === 'object' && typeof b === 'object' ) {\n\t\tconst aKeys = Object.keys( a );\n\t\tconst bKeys = Object.keys( b );\n\n\t\tlet i = aKeys.length;\n\n\t\tif ( bKeys.length !== i ) return false;\n\n\t\twhile ( i-- ) {\n\t\t\tlet key = aKeys[i];\n\n\t\t\tif ( !b.hasOwnProperty( key ) || !deepEqual( b[ key ], a[ key ] ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\treturn a === b;\n}\n\nconst toString = Object.prototype.toString;\n\nfunction isArray ( thing ) {\n\treturn toString.call( thing ) === '[object Array]';\n}","import roadtrip from '../roadtrip';\n\n// Adapted from https://github.com/visionmedia/page.js\n// MIT license https://github.com/visionmedia/page.js#license\n\nexport default function watchLinks ( callback ) {\n\twindow.addEventListener( 'click', handler, false );\n\twindow.addEventListener( 'touchstart', handler, false );\n\n\tfunction handler ( event ) {\n\t\tif ( which( event ) !== 1 ) return;\n\t\tif ( event.metaKey || event.ctrlKey || event.shiftKey ) return;\n\t\tif ( event.defaultPrevented ) return;\n\n\t\t// ensure target is a link\n\t\tlet el = event.target;\n\t\twhile ( el && el.nodeName !== 'A' ) {\n\t\t\tel = el.parentNode;\n\t\t}\n\n\t\tif ( !el || el.nodeName !== 'A' ) return;\n\n\t\t// Ignore if tag has\n\t\t// 1. 'download' attribute\n\t\t// 2. rel='external' attribute\n\t\tif ( el.hasAttribute('download') || el.getAttribute('rel') === 'external' ) return;\n\n\t\t// ensure non-hash for the same path\n\t\tif ( el.pathname === location.pathname && ( el.hash ) ) return;\n\n\t\t// Check for mailto: in the href\n\t\tif ( ~el.href.indexOf( 'mailto:' ) ) return;\n\n\t\t// check target\n\t\tif ( el.target ) return;\n\n\t\t// x-origin\n\t\tif ( !sameOrigin( el.href ) ) return;\n\n\t\t// rebuild path\n\t\tvar path = el.pathname + el.search + ( el.hash || '' );\n\n\t\t// strip leading '/[drive letter]:' on NW.js on Windows\n\t\tif ( typeof process !== 'undefined' && path.match( /^\\/[a-zA-Z]:\\// ) ) {\n\t\t\tpath = path.replace( /^\\/[a-zA-Z]:\\//, '/' );\n\t\t}\n\n\t\t// same page\n\t\tvar orig = path;\n\n\t\tif ( path.indexOf( roadtrip.base ) === 0 ) {\n\t\t\tpath = path.substr( roadtrip.base.length );\n\t\t}\n\n\t\tif ( roadtrip.base && orig === path ) return;\n\n\t\tevent.preventDefault();\n\t\tcallback( orig );\n\t}\n}\n\nfunction which( event ) {\n\tevent = event || window.event;\n\treturn event.which === null ? event.button : event.which;\n}\n\nfunction sameOrigin ( href ) {\n\tvar origin = location.protocol + '//' + location.hostname;\n\tif ( location.port ) origin += ':' + location.port;\n\n\treturn ( href && ( href.indexOf( origin ) === 0 ) );\n}\n","import roadtrip from './roadtrip';\n\nconst a = document.createElement( 'a' );\nconst QUERYPAIR_REGEX = /^([\\w\\-]+)(?:=([^&]*))?$/;\nconst HANDLERS = [ 'beforeenter', 'enter', 'leave' ];\n\nlet isInitial = true;\n\nfunction RouteData ({ route, pathname, params, query }) {\n\tthis.pathname = pathname;\n\tthis.params = params;\n\tthis.query = query;\n\tthis.isInitial = isInitial;\n\n\tthis._route = route;\n\n\tisInitial = false;\n}\n\nRouteData.prototype = {\n\tmatches ( href ) {\n\t\treturn this._route.matches( href );\n\t}\n}\n\nexport default function Route ( path, options ) {\n\t// strip leading slash\n\tif ( path[0] === '/' ) {\n\t\tpath = path.slice( 1 );\n\t}\n\n\tthis.path = path;\n\tthis.segments = path.split( '/' );\n\n\tif ( typeof options === 'function' ) {\n\t\toptions = {\n\t\t\tenter: options\n\t\t};\n\t}\n\n\tHANDLERS.forEach( handler => {\n\t\tthis[ handler ] = ( route, other ) => {\n\t\t\tlet value;\n\n\t\t\tif ( options[ handler ] ) {\n\t\t\t\tvalue = options[ handler ]( route, other );\n\t\t\t}\n\n\t\t\treturn roadtrip.Promise.resolve( value );\n\t\t};\n\t});\n}\n\nRoute.prototype = {\n\tmatches ( href ) {\n\t\ta.href = href;\n\n\t\tlet pathname = a.pathname.slice( 1 );\n\t\tlet segments = pathname.split( '/' );\n\n\t\treturn segmentsMatch( segments, this.segments );\n\t},\n\n\texec ( href ) {\n\t\ta.href = href;\n\n\t\tlet pathname = a.pathname.slice( 1 );\n\t\tlet search = a.search.slice( 1 );\n\n\t\tlet segments = pathname.split( '/' );\n\n\t\tif ( segments.length !== this.segments.length ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet params = {}, i;\n\n\t\tfor ( i = 0; i < segments.length; i += 1 ) {\n\t\t\tlet segment = segments[i];\n\t\t\tlet toMatch = this.segments[i];\n\n\t\t\tif ( toMatch[0] === ':' ) {\n\t\t\t\tparams[ toMatch.slice( 1 ) ] = segment;\n\t\t\t}\n\n\t\t\telse if ( segment !== toMatch ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tlet query = {};\n\t\tlet queryPairs = search.split( '&' );\n\n\t\tfor ( i = 0; i < queryPairs.length; i += 1 ) {\n\t\t\tlet match = QUERYPAIR_REGEX.exec( queryPairs[i] );\n\n\t\t\tif ( match ) {\n\t\t\t\tlet key = match[1], value = decodeURIComponent( match[2] );\n\n\t\t\t\tif ( query.hasOwnProperty( key ) ) {\n\t\t\t\t\tif ( typeof query[ key ] !== 'object' ) {\n\t\t\t\t\t\tquery[ key ] = [ query[ key ] ];\n\t\t\t\t\t}\n\n\t\t\t\t\tquery[ key ].push( value );\n\t\t\t\t}\n\n\t\t\t\telse {\n\t\t\t\t\tquery[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn new RouteData({ route: this, pathname, params, query });\n\t}\n};\n\nfunction segmentsMatch ( a, b ) {\n\tif ( a.length !== b.length ) return;\n\n\tlet i = a.length;\n\twhile ( i-- ) {\n\t\treturn b[0] === ':' || a === b;\n\t}\n}\n"],"names":[],"mappings":"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"}